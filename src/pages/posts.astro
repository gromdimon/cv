---
import BaseLayout from "../layouts/BaseLayout.astro";
import Post from "../components/post_section/Post.astro";

const allPosts = await Astro.glob("../pages/posts/*.md");

// Reorder allPosts by date
allPosts.sort((a, b) => {
  const dateA = new Date(a.frontmatter.date);
  const dateB = new Date(b.frontmatter.date);
  return dateB.getTime() - dateA.getTime();
});

const title = "Posts";
---

<BaseLayout title={title}>
  <div class="mt-24">
    <h1 class="text-4xl font-bold text-left">
      Discover my projects and dive into my thoughts and experiences. Enjoy
      reading! ðŸ“š
    </h1>
    <h2 class="text-lg text-gray-500 mt-4">
      Explore concise summaries of my projects, internships, and hands-on
      experiences. These aren't detailed posts, but rather snapshots of my
      technical journeys. For more in-depth discussions and a reader-friendly
      format, visit my
      <a href="https://medium.com/@gromdimon">Medium page </a>.
    </h2>
  </div>
  <div
    class="grid gap-8 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 p-4 md:p-2 xl:p-5 mt-24"
  >
    {
      allPosts.map((post) => (
        <div class="mb-4">
          <Post post={post} />
        </div>
      ))
    }
  </div>
</BaseLayout>
